<body>
  <div class="py-5 text-center bg-secondary text-white">
  <h2>Iniciar Sesión</h2>
  <hr class="w-50" />
    <form method="post" class="bg-dark" id="formulario">
      <div class="form-group">
        <div class="form-group">
          <label>Email</label>
          <input type="email" id="email" class="form-control w-50 m-auto" name="email"/>
        </div>
        <div class="form-group">
          <label>Password</label>
          <input type="password" id="password" class="form-control w-50 m-auto" name="password"/>
        </div>
      </div>
      <button class="btn btn-success mb-3">Ingresar</button>
      <p>¿Aún no tienes cuenta? <a href="/registro" class="text-white">Regístrate</a></p>
    </form>
  </div>

  <script>
  const form = document.querySelector("#formulario")
  form.addEventListener("submit", (event) => {
    event.preventDefault()
    const email = document.querySelector("#email")
    const password = document.querySelector("#password")
    const payload = { email, password}
     try {
            const { data: token } = await axios.post('/auth', payload)
            alert(`Autenticación exitosa!`)
            window.location.href = `/datos?token=${token}`

        } catch (error) {
            alert(error)
        }
  })
  </script>
</body>